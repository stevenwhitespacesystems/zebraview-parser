# ZPL Command: ^B4 (Code 49 Bar Code)

## Description
The ^B4 command creates a multi-row, continuous, variable-length symbology capable of encoding the full 128-character ASCII set. It is ideally suited for applications requiring large amounts of data in a small space.

The code consists of two to eight rows. A row consists of a leading quiet zone, four symbol characters encoding eight code characters, a stop pattern, and a trailing quiet zone. A separator bar with a height of one module separates each row. Each symbol character encodes two characters from a set of Code 49 characters.

### Key Features
- Has a fixed print ratio
- Rows can be scanned in any order
- Capable of encoding the full 128-character ASCII set

## Format
```
^B4o,h,f,m
```

## Parameters
| Parameter | Description | Accepted Values | Default Value |
|-----------|-------------|----------------|---------------|
| **o** | Orientation | N = normal<br>R = rotated 90 degrees (clockwise)<br>I = inverted 180 degrees<br>B = read from bottom up, 270 degrees | Current ^FW value |
| **h** | Height multiplier of individual rows | 1 to height of label | Value set by ^BY |
| **f** | Print interpretation line | N = no line printed<br>A = print interpretation line above code<br>B = print interpretation line below code | N |
| **m** | Starting mode | 0 = Regular Alphanumeric Mode<br>1 = Multiple Read Alphanumeric<br>2 = Regular Numeric Mode<br>3 = Group Alphanumeric Mode<br>4 = Regular Alphanumeric Shift 1<br>5 = Regular Alphanumeric Shift 2<br>A = Automatic Mode | A |

## Code 49 Character Sets
The Code 49 bar code supports three character sets:

### Unshifted Character Set
0-9, A-Z, ., SPACE, $, /, +, %, < (Shift 1), > (Shift 2), : (N.A.), ; (N.A.), ? (N.A.), = (Numeric Shift)

### Shift 1 Character Set
0-9, A-Z, ., SPACE, $, /, +, %, ', ESC, FS, GS, RS, US, !, ", #, &, SOH-SUB control characters, (, ), Null, *, ,, :, reserved

### Shift 2 Character Set
;, <, =, >, ?, @, [, \, ], a-z, _, ', DEL, {, |, }, ~

## Field Data Character Set Usage
When using starting modes 0 to 5, the ^FD data is based on the Code 49 Internal Character Set. Valid field data must be supplied when using these modes.

**Shifted characters** are sent as a two-character sequence of a shift character followed by a character in the unshifted character set.

**Example:** To encode a lowercase 'a', send a '>' (Shift 2) followed by an uppercase 'A'.

## Invalid Sequences
The Code 49 formatter will stop interpreting field data and print a symbol with data up to the invalid sequence if any of these occur:
- Terminating numeric mode with any characters other than 0-9 or a Numeric Space
- Starting in Mode 4 and the first field data character is not in the Shift 1 set
- Starting in Mode 5 and the first field data character is not in the Shift 2 set
- Sending Shift 1 followed by a character not in the Shift 1 set
- Sending Shift 2 followed by a character not in the Shift 2 set
- Sending two Shift 1 or Shift 2 control characters

## Advantages of Automatic Mode
Using the default Automatic Mode (A) eliminates the need for:
- Selecting the starting mode
- Manually performing character shifts

The Automatic Mode:
- Analyzes the incoming ASCII string
- Determines the proper mode
- Performs all character shifts automatically
- Compacts the data for maximum efficiency

**Note:** Numeric Mode is selected only when five or more continuous digits are found. Numeric packaging provides no space advantage for numeric strings consisting of fewer than eight characters.

## Important Notes
- Height multiplier number multiplied by the module equals the height of individual rows in dots
- A value of 1 is not recommended for height multiplier
- When field data exceeds two rows, expect the interpretation line to extend beyond the right edge of the bar code symbol
- For additional information about Code 49 bar codes, visit www.aimglobal.org

---
*Source: ZPL Programming Guide Volume One (45541L-002 Rev. A)*